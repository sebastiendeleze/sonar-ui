<!--
 SONAR User Interface
 Copyright (C) 2021 RERO

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as published by
 the Free Software Foundation, version 3 of the License.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU Affero General Public License for more details.

 You should have received a copy of the GNU Affero General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<ng-container *ngIf="record$ | async as record">
  <h1 class="mb-4">{{ record.metadata.first_name }} {{ record.metadata.last_name }}</h1>
  <dl class="row mt-4">
    <ng-container *ngIf="record.metadata.organisation">
      <dt class="col-sm-3" translate>Organisation</dt>
      <dd class="col-sm-9">{{ record.metadata.organisation.name }}</dd>
    </ng-container>

    <dt class="col-sm-3" translate>Role</dt>
    <dd class="col-sm-9">{{ ('role_' + record.metadata.role) | translate }}</dd>

    <ng-container *ngIf="record.metadata.subdivision">
      <dt class="col-sm-3" translate>Subdivision</dt>
      <dd class="col-sm-9">{{ record.metadata.subdivision.name | languageValue | async }}</dd>
    </ng-container>

    <dt class="col-sm-3" translate>Email address</dt>
    <dd class="col-sm-9">{{ record.metadata.email }}</dd>

    <ng-container *ngIf="record.metadata.birth_date">
      <dt class="col-sm-3" translate>Birthdate</dt>
      <dd class="col-sm-9">{{ record.metadata.birth_date | date }}</dd>
    </ng-container>

    <ng-container *ngIf="record.metadata.phone">
      <dt class="col-sm-3" translate>Phone</dt>
      <dd class="col-sm-9">{{ record.metadata.phone }}</dd>
    </ng-container>

    <ng-container *ngIf="record.metadata.street || record.metadata.postal_code || record.metadata.city">
      <dt class="col-sm-3" translate>Address</dt>
      <dd class="col-sm-9">
        <p class="m-0" *ngIf="record.metadata.street">
          {{ record.metadata.street }}
        </p>
        <p class="m-0" *ngIf="record.metadata.postal_code || record.metadata.city">
          {{ record.metadata.postal_code }} {{ record.metadata.city }}
        </p>
      </dd>
    </ng-container>
  </dl>
</ng-container>
